{"version":3,"sources":["images/default-image.png","images/movie.png","components/Header/Header.jsx","components/Search/Search.jsx","components/Filters/Filters.jsx","components/Movies/Movies.jsx","components/Popup/Popup.jsx","components/Pagination/Pagination.jsx","App.js","index.js"],"names":["module","exports","Header","className","AppBar","position","color","Toolbar","Typography","variant","noWrap","Search","handleSubmit","handleChange","query","noValidate","autoComplete","onSubmit","Input","placeholder","onChange","value","Filters","chooseFilter","filter","FormControl","InputLabel","id","Select","labelId","MenuItem","Movies","movies","showPopup","Grid","container","spacing","map","movie","key","item","lg","md","sm","xs","Card","onClick","CardActionArea","CardMedia","image","poster_path","defaultImage","title","CardContent","Popup","checkedMovie","hidePopup","release_date","component","overview","BasicPagination","pagesCount","nextPage","Pagination","count","event","target","innerText","App","useState","setQuery","setMovies","moviesCount","setMoviesCount","page","setPage","Math","floor","popup","setPopup","setCheckedMovie","setFilter","filterUrl","setFilterUrl","filters","popular","higestRated","forKids","from2010","dramas","BASE_URL","API_KEY","useEffect","localStorage","getItem","JSON","parse","findMovies","filterMovies","setItem","stringify","removeItem","fetch","then","response","json","data","results","total_results","preventDefault","src","movieImage","alt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c7248521.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/movie.cba8511e.png\";","import React from 'react';\nimport './Header.scss';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nconst Header = () => {\n\n  return (\n    <div className=\"header\">\n      <AppBar position=\"static\" color=\"secondary\">\n        <Toolbar>\n          <Typography className=\"header__text\" variant=\"h6\" noWrap>\n            Find your favorite movies!\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Search.scss';\nimport Input from '@material-ui/core/Input';\n\nconst Search = ({ handleSubmit, handleChange, query }) => {\n\n  return (\n    <form \n      className=\"search\" \n      noValidate \n      autoComplete=\"off\"\n      onSubmit={handleSubmit}\n    >\n      <Input \n        className=\"search__input\"\n        placeholder=\"Enter a movie title!\" \n        onChange={handleChange}\n        value={query}\n        color=\"secondary\"\n      />\n    </form>\n  );\n}\n\nSearch.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  query: PropTypes.string.isRequired\n}\n\nexport default Search;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Filters.scss';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nconst Filters = ({ chooseFilter, filter }) => {\n\n  return (\n    <div className=\"filters\">\n      <FormControl className=\"filters__form\" color=\"secondary\">\n        <InputLabel id=\"demo-simple-select-label\">Categories</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={filter}\n          onChange={chooseFilter}\n        >\n          <MenuItem value={'popular'}>Most popular</MenuItem>\n          <MenuItem value={'higestRated'}>Highest rated</MenuItem>\n          <MenuItem value={'forKids'}>Most popular for kids</MenuItem>\n          <MenuItem value={'from2010'}>Best movies from 2010</MenuItem>\n          <MenuItem value={'dramas'}>Best drama's</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n\nFilters.propTypes = {\n  chooseFilter: PropTypes.func.isRequired,\n  filter: PropTypes.string.isRequired,\n}\n\nexport default Filters;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Movies.scss';\nimport defaultImage from '../../images/default-image.png';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardActionArea from '@material-ui/core/CardActionArea';\n\nconst Movies = ({ movies, showPopup }) => {\n  return(\n    <>\n      {movies && (\n        <Grid container spacing={5} className=\"movies\">\n          {movies.map(movie => (\n            <Grid key={movie.id} item lg={3} md={4} sm={6} xs={10}>\n              <Card className=\"movie\" onClick={() => showPopup(movie.id)}>\n                <CardActionArea>\n                  <CardMedia\n                  className=\"movie__image\"\n                  image={movie.poster_path ?\n                  `https://image.tmdb.org/t/p/original${movie.poster_path}` : defaultImage\n                  }\n                  title={movie.title}\n                  />\n                  <CardContent>\n                    <Typography>\n                    {movie.title}\n                    </Typography>\n                  </CardContent>\n                </CardActionArea>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </>\n  )\n}\n\nMovies.propTypes = {\nmovies: PropTypes.arrayOf(\nPropTypes.object.isRequired,\n),\nshowPopup: PropTypes.func.isRequired,\n}\n\nexport default Movies;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Popup.scss';\nimport defaultImage from '../../images/default-image.png';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nconst Popup = ({ checkedMovie, hidePopup }) => {\n  return (\n    <div className=\"popup\">\n      <Card className=\"popup__content\">\n        <CancelIcon \n        className=\"popup__close\"\n        onClick={hidePopup}\n        />\n\n        <h2>{checkedMovie.title}</h2>\n\n        <p>{checkedMovie.release_date ? checkedMovie.release_date : 'Unknown date'}</p>\n\n        <CardMedia\n        className=\"popup__image\"\n        image={checkedMovie.poster_path ? \n        `https://image.tmdb.org/t/p/original${checkedMovie.poster_path}` :\n        defaultImage\n        }\n        title={checkedMovie.title}\n        />\n        \n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {checkedMovie.overview ? checkedMovie.overview : 'No description'}\n          </Typography>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  checkedMovie: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    release_date: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired\n  }),\n  hidePopup: PropTypes.func.isRequired\n}\n\nexport default Popup;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport './Pagination.scss';\r\n\r\nconst BasicPagination = ({ pagesCount, nextPage }) => {\r\n  return (\r\n    <div className=\"pagination\">\r\n      <Pagination count={pagesCount} onClick={(event) => nextPage(event.target.innerText)} />\r\n    </div>\r\n  );\r\n}\r\n\r\nBasicPagination.propTypes = {\r\n  pagesCount: PropTypes.number.isRequired,\r\n  nextPage: PropTypes.func.isRequired\r\n}\r\n\r\nexport default BasicPagination;","import React, { useEffect, useState } from 'react';\nimport Header from './components/Header/Header';\nimport Search from './components/Search/Search';\nimport Filters from './components/Filters/Filters';\nimport Movies from './components/Movies/Movies';\nimport Popup from './components/Popup/Popup';\nimport BasicPagination from './components/Pagination/Pagination';\nimport movieImage from './images/movie.png';\nimport './App.scss';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState(null);\n  const [moviesCount, setMoviesCount] = useState(0);\n  const [page, setPage] = useState(1);\n  const pagesCount = Math.floor(moviesCount / 20);\n  const [popup, setPopup] = useState(false);\n  const [checkedMovie, setCheckedMovie] = useState(null);\n  const [filter, setFilter] = useState('');\n  const [filterUrl, setFilterUrl] = useState('');\n\n  const filters = {\n  popular: `sort_by=popularity.desc`,\n  higestRated: `certification_country=US&certification=R&sort_by=vote_average.desc`,\n  forKids: `certification_country=US&certification.lte=G&sort_by=popularity.desc`,\n  from2010: `primary_release_year=2010&sort_by=vote_average.desc`,\n  dramas: `with_genres=18&sort_by=vote_average.desc&vote_count.gte=10`\n  }\n\n  const BASE_URL = `https://api.themoviedb.org/3`;\n  const API_KEY = `&api_key=84c83a42cc97b70eee49a6cc6866a082`;\n\n  useEffect(() => {\n    if(localStorage.getItem(\"query\")) {\n      setQuery(JSON.parse(localStorage.getItem(\"query\")));\n      setMovies(findMovies(JSON.parse(localStorage.getItem(\"query\"))));\n    } else if (localStorage.getItem(\"filter\")) {\n      setFilter(JSON.parse(localStorage.getItem(\"filter\")));\n      setMovies(filterMovies(JSON.parse(localStorage.getItem(\"filter\"))));\n    }\n  }, []);\n  \n  useEffect(() => {\n    findMovies(query, page);\n  }, [page]);\n  \n  useEffect(() => {\n    filterMovies(filterUrl);\n    localStorage.setItem(\"filter\", JSON.stringify(filter));\n    localStorage.removeItem(\"query\");\n  }, [filterUrl]);\n\n  const findMovies = (query, page) => {\n    fetch(`${BASE_URL}/search/movie?${API_KEY}&query=${query}&page=${page}`)\n      .then(response => response.json())\n      .then(data => {\n        setMovies(data.results);\n        setMoviesCount(data.total_results);\n      })\n  }\n\n  const filterMovies= (filterUrl) => {\n    fetch(`${BASE_URL}/discover/movie?${filterUrl}${API_KEY}`)\n      .then(response => response.json())\n      .then(data => setMovies(data.results));\n  }\n\n  const chooseFilter = (event) => {\n    setFilter(event.target.value);\n    setFilterUrl(filters[event.target.value]);\n    setQuery('');\n  };\n\n  const nextPage = (page) => {\n    setPage(page);\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    findMovies(query, page);\n    localStorage.setItem(\"query\", JSON.stringify(query));\n    localStorage.removeItem(\"filter\");\n  }\n\n  const handleChange = (event) => {\n    setQuery(event.target.value);\n    setFilter('');\n  };\n\n  const showPopup = (id) => {\n    setCheckedMovie(movies.filter(movie => movie.id === id));\n    setPopup(true);\n  }\n\n  const hidePopup = () => {\n    setPopup(false);\n  }\n\n  return (\n    <div className=\"App\">\n      <Header />\n\n      <div className=\"App__forms\">\n        <Search \n          handleSubmit={handleSubmit}\n          handleChange={handleChange}\n          query={query}\n        />\n\n        <img className=\"App__forms-image\" src={movieImage} alt=\"movie\"/>\n\n        <Filters \n          chooseFilter={chooseFilter}\n          filter={filter}\n        />\n      </div>\n\n      <Movies \n        movies={movies}\n        showPopup={showPopup}\n      />\n\n      {moviesCount > 20 && (\n        <BasicPagination\n          page={page}\n          pagesCount={pagesCount}\n          nextPage={nextPage}\n        />\n      )}\n\n      {popup && (\n        <Popup \n          checkedMovie={checkedMovie[0]}\n          hidePopup={hidePopup}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}